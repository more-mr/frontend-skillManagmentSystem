
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Skill Update</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/employee.css">
</head>
<body>
    <div class="employee-container">
        <h1 class="text-center">Update Your Skills</h1>

        <form id="employeeForm" action="http://localhost:8080/Employee/AddEmployeeInfo" method="POST" enctype="multipart/form-data">

            <div class="mb-3">
                <!-- In this form, we get skills, cv, company name, deployed/not, skills data -->
                <label for="skills" class="form-label">Add Skills</label>
                <div class="input-group">
                    <input type="text" id="skills" name="skills" class="form-control" placeholder="Enter a skill">
                    <button type="button" id="addSkill" class="btn btn-primary">Add Skill</button>
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label">Skill Suggestions</label>
                <div class="skill-suggestions d-flex flex-wrap gap-2">
                    <button type="button" class="btn btn-outline-secondary" onclick="addSuggestedSkill('JavaScript')">+ JavaScript</button>
                    <button type="button" class="btn btn-outline-secondary" onclick="addSuggestedSkill('Python')">+ Python</button>
                    <button type="button" class="btn btn-outline-secondary" onclick="addSuggestedSkill('Java')">+ Java</button>
                    <button type="button" class="btn btn-outline-secondary" onclick="addSuggestedSkill('C++')">+ C++</button>
                    <button type="button" class="btn btn-outline-secondary" onclick="addSuggestedSkill('Ruby')">+ Ruby</button>
                    <button type="button" class="btn btn-outline-secondary" onclick="addSuggestedSkill('PHP')">+ PHP</button>
                    <button type="button" class="btn btn-outline-secondary" onclick="addSuggestedSkill('Swift')">+ Swift</button>
                </div>
            </div>
            
            <div id="skillsList" class="mb-3 d-flex flex-wrap gap-2"></div>

            <div class="mb-3">
                <label for="cv" class="form-label">Upload CV</label>
                <input type="file" id="cv" name="cv" class="form-control">
            </div>

            <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="atClient" name="atClient">
                <label class="form-check-label" for="atClient">Deployed</label>
            </div>

            <div class="mb-3" id="companyField" style="display: none;">
                <label for="company" class="form-label">Company</label>
                <input type="text" id="company" name="company" class="form-control" placeholder="Enter the company name">
            </div>

            <input type="hidden" id="skillsData" name="skillsData">

            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-success">Update</button>
                <a href="Viewprofile.html" class="btn btn-info">View Profile</a>
                <a id="deleteSession" class="btn btn-secondary">Exit</a>
            </div>
            
            <!-- Importent!!! -->
            <div id="errorMessage" class="alert alert-danger mt-3 d-none" role="alert">
                Please add at least one skill or upload a CV.
            </div>

            <!-- <?php if (isset($_SESSION['upload_success'])): ?> -->
                <div id="generalError" class="alert alert-info mt-3" role="alert">
                    <!-- <?php echo $_SESSION['upload_success']; unset($_SESSION['upload_success']); ?> -->
                </div>
            <!-- <?php endif; ?> -->

            <!-- <?php if (isset($_SESSION['deployment_error'])): ?> -->
                <div  id="nonGeneralError" class="alert alert-danger mt-3" role="alert">
                    <!-- <?php echo $_SESSION['deployment_error']; unset($_SESSION['deployment_error']); ?> -->
                </div>
            <!-- <?php endif; ?> -->
    
        </form>

        <!-- Rocket icon -->
        <div id="rocket" class="rocket">
            <img src="rocket.png" alt="Rocket" class="img-fluid">
            <div class="fire"></div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>

    <script src="js/employee.js"></script> 
</body>
</html>
